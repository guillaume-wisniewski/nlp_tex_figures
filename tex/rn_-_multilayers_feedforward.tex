\documentclass[crop,tikz]{standalone}

\input{tex/common}

% \newcommand{\first}{\makecell{1$^{\textrm{ère}}$ représentation\\ cachée}}
% \newcommand{\second}{\makecell{2$^{\textrm{ème}}$ représentation\\ cachée}}
% \newcommand{\third}{\makecell{3$^{\textrm{ème}}$ représentation\\ cachée}}
% \newcommand{\scores}{\makecell{vecteur de scores}}
% \newcommand{\obser}{\makecell{observation $\mathbf{x}$}}

\newcommand{\first}{\makecell{1$^{\textrm{st}}$ hidden\\ representation}}
\newcommand{\second}{\makecell{2$^{\textrm{nd}}$ hidden\\ representation}}
\newcommand{\third}{\makecell{3$^{\textrm{rd}}$ hidden \\ representation}}
\newcommand{\scores}{\makecell{score vector}}
\newcommand{\obser}{\makecell{observation $\mathbf{x}$}}


\begin{document}

    \begin{tikzpicture}

        \def\xdist{4cm}

        \node[draw=airforceblue, fill=airforceblue!50, minimum width=.5cm, minimum height=6cm] (input) at (0cm,0cm) {};

        \node[draw=apricot, fill=apricot!50, minimum width=.5cm, minimum height=4cm] (hidden1) at (\xdist, 0cm) {};
        \node[draw=apricot, fill=apricot!50, minimum width=.5cm, minimum height=6cm] (hidden2) at (\xdist * 2, 0cm) {};
        \node[draw=apricot, fill=apricot!50, minimum width=.5cm, minimum height=4cm] (hidden3) at (\xdist * 3, 0cm) {};

        \node[draw=asparagus, fill=asparagus!50, minimum width=.5cm, minimum height=2cm] (scores) at (\xdist * 4, 0cm) {};

        \node at (\xdist * 0.5, 0cm) {$\textrm{ReLU}\left(\mathbf{M}^{\textrm{proj, 1}} \cdot \mathbf{x}\right)$};
        \node at (\xdist * 1.5, 0cm) {$\textrm{ReLU}\left(\mathbf{M}^{\textrm{proj, 2}} \cdot \mathbf{h}_1 \right)$};
        \node at (\xdist * 2.5, 0cm) {$\textrm{ReLU}\left(\mathbf{M}^{\textrm{proj, 3}} \cdot \mathbf{h}_2\right)$};
        \node at (\xdist * 3.5, 0cm) {$\mathbf{M}^{\textrm{score}} \cdot \mathbf{x}$};

        \draw[airforceblue] (input.north east) -- (hidden1.north west);
        \draw[airforceblue] (input.south east) -- (hidden1.south west);

        \draw[airforceblue] (hidden1.north east) -- (hidden2.north west);
        \draw[airforceblue] (hidden1.south east) -- (hidden2.south west);

        \draw[airforceblue] (hidden2.north east) -- (hidden3.north west);
        \draw[airforceblue] (hidden2.south east) -- (hidden3.south west);

        \draw[airforceblue] (hidden3.north east) -- (scores.north west);
        \draw[airforceblue] (hidden3.south east) -- (scores.south west);

        \node at (\xdist,     -4cm) {\first};
        \node at (\xdist * 2, -4cm) {\second};
        \node at (\xdist * 3, -4cm) {\third};

        \node at (\xdist * 4, -4cm) {\scores};
        \node at ( 0cm, -4cm) {\obser};

    \end{tikzpicture}

\end{document}